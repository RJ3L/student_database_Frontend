{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rlimtin/Documents/GitHub/student_database_Frontend/app/components/students.ts"],"sourcesContent":["\"use server\";\n\nfunction calculateAge(birthdate: Date): number {\n    const today = new Date();\n\n    let age = today.getFullYear() - birthdate.getFullYear();\n    const monthDifference = today.getMonth() - birthdate.getMonth();\n\n    if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthdate.getDate())) {\n        age--;\n    }\n    return age;\n}\n\n/* async function checkUniqueness(\n    email: string | null,\n    contactNumber: string | null,\n    Id: number | null = null\n) {\n    const whereQuery: any = { OR: []};\n    if (email) {\n        whereQuery.OR.push({ Email: email});\n    } \n    if (contactNumber) {\n        whereQuery.OR.push({ ContactNumber: contactNumber});\n    }\n\n    if(whereQuery.OR.length === 0) {\n        return;\n    }\n\n    if(Id !== null) {\n        whereQuery.NOT = {ID: Id};\n    }\n\n    const existingStudent = await \n} */\n\n\nexport async function getStudents() {\n    try {\n    const res = await fetch(`http://localhost:5073/api/values/GetAllValues`, {method: 'GET', cache: 'no-store',});\n\n    if(!res.ok) {\n        throw new Error('Failed to fetch data from API');\n    }\n    return res.json();\n    }\n    catch(error) {\n        console.error(\"Fetch error: \", error);\n        return[]; \n    }\n}\n\nexport async function fetchStudent(surname: string) {\n    try {\n    const res = await fetch(`http://localhost:5073/api/values/SingleFetch/${surname}`, {method: 'GET', cache: 'no-store',});\n\n    if(!res.ok) {\n        throw new Error('Failed to fetch data from API');\n    }\n    return res.json();\n    }\n    catch(error) {\n        console.error(\"Fetch error: \", error);\n        return[];\n    }\n}\n\nexport async function fetchStudentViaID(ID: number) {\n    try {\n    const res = await fetch(`http://localhost:5073/api/values/SingleFetch/${surname}`, {method: 'GET', cache: 'no-store',});\n\n    if(!res.ok) {\n        throw new Error('Failed to fetch data from API');\n    }\n    return res.json();\n    }\n    catch(error) {\n        console.error(\"Fetch error: \", error);\n        return[];\n    }\n}\n\nexport async function deleteStudent(student_id: number) {\n    try {\n    const res = await fetch(`http://localhost:5073/api/values/DeleteValue/${student_id}`, {method: 'DELETE', cache: 'no-store',});\n   if(!res.ok) {\n    throw new Error('Failed to update data from API');\n    }\n    return res.ok;\n    }\n    catch(error) {\n        console.error(\"Fetch error: \", error);\n        return[];\n    }\n    }\n\nexport async function updateStudent(formData: FormData) {\n\n    const providedAge = Number(formData.get(\"Age\"));\n    const providedBirthday = formData.get(\"Birthday\")\n    const birthdayDate = new Date(providedBirthday);\n    const calculatedAge = calculateAge(birthdayDate);\n    if (providedAge !== calculatedAge) {\n        throw new Error(\n      `Data Mismatch: The provided age is ${providedAge}, but the birthday ${providedBirthday} calculates to an age of ${calculatedAge}.`\n    );\n    }\n\n\n    const studentData = {\n    Id: Number(formData.get(\"ID\")),\n    Surname: formData.get(\"Surname\"),\n    FirstName: formData.get(\"Firstname\"), \n    MiddleName: formData.get(\"Middlename\"), \n    Age: Number(formData.get(\"Age\")),\n    Birthday: formData.get(\"Birthday\"),\n    ContactNumber: formData.get(\"Contactnumber\"), \n    Email: formData.get(\"Email\"),\n    Remarks: formData.get(\"Remarks\")\n  };\n    \n\n    try {\n    const res = await fetch(`http://localhost:5073/api/values/Updatevalue`, {method: 'PUT', cache: 'no-store', headers: {\"Content-Type\": \"application/json\",},body: JSON.stringify(studentData),});\n    console.log(res);\n    if(!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.message || 'Failed to create student');\n    }\n    return true;\n    }\n    catch(error) {\n        console.error(\"Fetch error: \", error);\n         throw new Error(error);\n    } \n}\n\nexport async function createStudent(formData: FormData) {\n    const studentData = {\n        Surname: formData.get(\"Surname\"),\n        FirstName: formData.get(\"Firstname\"),\n        MiddleName: formData.get(\"Middlename\"), \n        Age: Number(formData.get(\"Age\")),\n        Birthday: formData.get(\"Birthday\"),\n        ContactNumber: formData.get(\"Contactnumber\"), \n        Email: formData.get(\"Email\"),\n        Remarks: formData.get(\"Remarks\")\n    }\n\n      const providedAge = Number(formData.get(\"Age\"));\n  const providedBirthday = formData.get(\"Birthday\")\n    const birthdayDate = new Date(providedBirthday);\n    const calculatedAge = calculateAge(birthdayDate);\n    if (providedAge !== calculatedAge) {\n        throw new Error(\n      `Data Mismatch: The provided age is ${providedAge}, but the birthday ${providedBirthday} calculates to an age of ${calculatedAge}.`\n    );\n    }\n\n    try {\n        console.log(studentData);\n        const res = await fetch(`http://localhost:5073/api/values/InsertValue`,{method: 'POST', cache: 'no-store', headers: {\"Content-Type\": \"application/json\",}, body: JSON.stringify(studentData),});\n        console.log(res);\n        if(res.ok) {\n            console.log('Student created successfully');\n            return {success: true};\n        } else if (!res.ok) {\n            const errorData = await res.json();\n            throw new Error(errorData.message || 'Failed to create student');\n        } \n        else {\n            const errorData = await res.json(); \n  \n            console.error('SERVER VALIDATION FAILED. DETAILS:', errorData);\n            console.error('Failed to create student');\n            throw new Error(errorData);\n\n        }\n    } catch (error) {\n        console.error('An error occurred: ', error);\n        throw new Error(error);\n    }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///Users/rlimtin/Documents/GitHub/student_database_Frontend/.next-internal/server/app/students/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getStudents as '00607fca91f1152e9c0550188444ae071f94340028'} from 'ACTIONS_MODULE0'\nexport {createStudent as '40ce8a093eaa0349b485c0a1270c7b5dd774a1cca2'} from 'ACTIONS_MODULE0'\nexport {updateStudent as '402f54cc7dc24e575d3a2a7501b28ee5198db49b40'} from 'ACTIONS_MODULE0'\nexport {deleteStudent as '40a55abba7beb59658fb5f98b60633541c075cb040'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/rlimtin/Documents/GitHub/student_database_Frontend/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///Users/rlimtin/Documents/GitHub/student_database_Frontend/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0],"debugId":null}}]
}